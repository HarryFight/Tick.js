;(function(window,undefined){var Tick={},isIE=!window.getComputedStyle;var animateType={"easeInSine":{a:{x:0.47,y:0},b:{x:0.745,y:0.715}},"easeOutSine":{a:{x:0.39,y:0.575},b:{x:0.565,y:1}},"easeInOutSine":{a:{x:0.445,y:0.05},b:{x:0.55,y:0.95}},"easeInQuad":{a:{x:0.55,y:0.085},b:{x:0.68,y:0.53}},"easeOutQuad":{a:{x:0.25,y:0.46},b:{x:0.45,y:0.94}},"easeInOutQuad":{a:{x:0.455,y:0.03},b:{x:0.515,y:0.955}},"easeInCubic":{a:{x:0.55,y:0.055},b:{x:0.675,y:0.19}},"easeOutCubic":{a:{x:0.215,y:0.61},b:{x:0.355,y:1}},"easeInOutCubic":{a:{x:0.645,y:0.045},b:{x:0.355,y:1}},"easeInQuart":{a:{x:0.895,y:0.03},b:{x:0.685,y:0.22}},"easeOutQuart":{a:{x:0.165,y:0.84},b:{x:0.44,y:1}},"easeInOutQuart":{a:{x:0.77,y:0},b:{x:0.0175,y:1}},"easeInQuint":{a:{x:0.755,y:0.05},b:{x:0.855,y:0.06}},"easeOutQuint":{a:{x:0.23,y:1},b:{x:0.32,y:1}},"easeInOutQuint":{a:{x:0.86,y:0},b:{x:0.07,y:1}},"easeInExpo":{a:{x:0.95,y:0.05},b:{x:0.795,y:0.035}},"easeOutExpo":{a:{x:0.19,y:1},b:{x:0.22,y:1}},"easeInOutExpo":{a:{x:1,y:0},b:{x:0,y:1}},"easeInCirc":{a:{x:0.6,y:0.04},b:{x:0.98,y:0.335}},"easeOutCirc":{a:{x:0.075,y:0.82},b:{x:0.165,y:1}},"easeInOutCirc":{a:{x:0.785,y:0.135},b:{x:0.15,y:0.86}},"easeInBack":{a:{x:0.6,y:-0.28},b:{x:0.735,y:0.045}},"easeOutBack":{a:{x:0.175,y:0.885},b:{x:0.32,y:1.275}},"easeInOutBack":{a:{x:0.68,y:-0.55},b:{x:0.265,y:1.55}}};Tick.to=function(target,params){var self=this;if(!self._isObject(params)){return;}
    params=self._init.apply(self,arguments);self._animate.apply(self,params);};Tick.from=function(target,params){var self=this;if(!self._isObject(params)){return;}
    for(var item in params){if(params.hasOwnProperty(item)&&item!="onComplete"&&item!="onCompleteParam"){var tmp=parseFloat(self._css(target,item));self._css(target,item,params[item]);params[item]=tmp;}}
    arguments[1]=params;params=self._init.apply(self,arguments);self._animate.apply(self,params);};Tick.fromTo=function(target,fParams,tParams){var self=this;if(!self._isObject(tParams)||!self._isObject(fParams)){return;}
    for(var item in fParams){if(fParams.hasOwnProperty(item)&&item!="onComplete"&&item!="onCompleteParam"){self._css(target,item,fParams[item]);}}
    Array.prototype.splice.call(arguments,1,1);tParams=self._init.apply(self,arguments);self._animate.apply(self,tParams);};Tick._init=function(target,params){var self=this,json={},fn=null,fnParams=[],type='',speed=0,delay=0,val=[];for(var item in params){if(params.hasOwnProperty(item)){if(item=="onComplete"){fn=params[item];}else if(item=="onCompleteParams"){fnParams=params[item];}else{json[item]=params[item];}}}
    if(self._isString(arguments[2])){type=animateType[arguments[2]]||animateType["easeInSine"];speed=arguments[3]||1000;}else{type=animateType["easeInSine"];speed=arguments[2]||1000;}
    val.push(target,json,type,speed,delay,fn,fnParams);return val;};Tick._isObject=function(obj){return Object.prototype.toString.call(obj)=="[object Object]";};Tick._isString=function(str){return Object.prototype.toString.call(str)=="[object String]";};Tick._setAttr=function(target,attr,val){if(attr=="opacity"){if(isIE){target.setAttribute("style","filter:alpha(opacity="+val*100+")");return;}}else{val=val+"px";}
    target.style[attr]=val;};Tick._getAttr=function(target,attr){var val,match;if(isIE){if(attr=="opacity"){var filter=target.currentStyle.filter,reg=/alpha\(opacity=(\d+\.?\d*)\)/i;filter=filter.replace(/\s+/g,"");match=filter.match(reg);if(match&&match.length>0){return match[1];}}
    val=target.currentStyle[attr];}else{val=window.getComputedStyle(target,null)[attr];}
    return val;};Tick._css=function(target,attr,val){var self=this,argLen=arguments.length,isSet=argLen>2||self._isObject(arguments[1]),isJson;if(argLen<2)return;if(isSet){isJson=self._isObject(attr);if(isJson){for(var item in attr){if(attr.hasOwnProperty(item)){self._setAttr(target,item,attr[item]);}}}else{self._setAttr(target,attr,val);}}else{return self._getAttr(target,attr);}};Tick._cubicBezier=function(type,t){var self=this,pa={x:0,y:0},pb=type["a"],pc=type["b"],pd={x:1,y:1},x,y;x=pa.x*Math.pow(1-t,3)+3*pb.x*t*Math.pow(1-t,2)+3*pc.x*Math.pow(t,2)*(1-t)+pd.x*Math.pow(t,3);y=pa.y*Math.pow(1-t,3)+3*pb.y*t*Math.pow(1-t,2)+3*pc.y*Math.pow(t,2)*(1-t)+pd.y*Math.pow(t,3);return{x:x,y:y};};Tick._animate=function(target,json,type,speed,delay,fn,fnParams){var self=this,timeScale=1000/60,speed=speed/2,count=speed/timeScale,prevTime=0,tmp=[];delay=delay||0;if(target.timer){clearTimeout(target.timer);}
    for(var i=0;i<=Math.ceil(count*2);i++){var item=self._cubicBezier(type,i/(2*count));tmp.push(item);}
    tmp.splice(0,1);for(var key in json){target[key]=parseFloat(self._css(target,key));}
    target.timer=setTimeout(function(){move();},timeScale+delay);function move(){var newValue,stop=false,scale=tmp.splice(0,1)[0];for(var key in json){if(!scale){stop=true;target.style[key]=json[key]+"px";}else{newValue=target[key]+(json[key]-target[key])*scale.y;target.style[key]=newValue+"px";}}
        if(scale){var time=speed*scale.x;timeScale=time-prevTime;prevTime=time;if(timeScale<1000/60){timeScale=1000/60;}
            target.timer=setTimeout(function(){move();},timeScale);}
        if(stop){clearTimeout(target.timer);if(typeof fn=="function"){fn.apply(target,fnParams);}}}};window.Tick=Tick;}(window));